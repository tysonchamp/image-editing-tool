<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProEdit - Advanced Image Editor</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Toolbar -->
        <aside class="toolbar">
            <div class="tool-group">
                <button class="tool-btn" data-tool="move" title="Move Tool">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z" />
                    </svg>
                </button>
                <button class="tool-btn active" data-tool="brush" title="Brush Tool">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM5.21 19H5v-.21l8.92-8.92 2.12 2.12L5.21 19z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="eraser" title="Eraser Tool">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M16.24 3.56l4.95 4.94c.78.79.78 2.05 0 2.84L12 20.53a4.008 4.008 0 0 1-5.66 0L2.81 17c-.78-.79-.78-2.05 0-2.84l10.6-10.6c.79-.78 2.05-.78 2.83 0zM6.2 14.17l5.66 5.66c.39.39 1.02.39 1.41 0l4.24-4.24-5.66-5.66-5.65 4.24z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="text" title="Text Tool">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="crop" title="Crop Tool">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z" />
                    </svg>
                </button>
                <button class="tool-btn" id="import-btn" title="Import Image">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z" />
                    </svg>
                </button>
                <button class="tool-btn" id="library-btn" title="Stock Images">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM12 9h-2v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z" />
                        <path fill="currentColor" d="M10 14h8l-4-5z" />
                        <!-- Simple icon for gallery -->
                    </svg>
                </button>
                <input type="file" id="file-input" accept="image/*" style="display: none;">
            </div>
        </aside>

        <!-- Main Workspace -->
        <main class="workspace">
            <div class="canvas-container">
                <canvas id="main-canvas"></canvas>
            </div>
        </main>

        <!-- Right Panel -->
        <aside class="properties-panel">
            <!-- Tool Properties -->
            <div class="panel-section">
                <h3>Properties</h3>
                <div id="tool-properties">
                    <!-- Dynamic properties injected here -->
                    <div class="property-group">
                        <label>Size</label>
                        <input type="range" id="brush-size" min="1" max="100" value="10">
                        <span id="brush-size-val">10px</span>
                    </div>
                    <div class="property-group">
                        <label>Color</label>
                        <input type="color" id="brush-color" value="#000000">
                    </div>
                    <div class="property-group">
                        <label>Opacity</label>
                        <input type="range" id="brush-opacity" min="0" max="100" value="100">
                        <span id="brush-opacity-val">100%</span>
                    </div>
                    <div class="property-group">
                        <label>Smoothness</label>
                        <input type="range" id="brush-smoothness" min="0" max="90" value="0">
                        <span id="brush-smoothness-val">0%</span>
                    </div>
                    <div class="property-group" id="prop-scale">
                        <label>Layer Scale</label>
                        <input type="range" id="layer-scale" min="10" max="200" value="100">
                        <span id="layer-scale-val">100%</span>
                    </div>
                    <div class="property-group" id="prop-layer-opacity">
                        <label>Layer Opacity</label>
                        <input type="range" id="layer-opacity" min="0" max="100" value="100">
                        <span id="layer-opacity-val">100%</span>
                    </div>
                    <div class="property-group" id="prop-text" style="display: none;">
                        <label>Text Content</label>
                        <input type="text" id="text-content" placeholder="Enter text...">
                    </div>
                </div>
            </div>

            <!-- Layers -->
            <div class="panel-section">
                <div class="section-header">
                    <h3>Layers</h3>
                    <div class="layer-actions">
                        <button id="add-layer-btn" title="New Layer">+</button>
                        <button id="delete-layer-btn" title="Delete Layer">-</button>
                    </div>
                </div>
                <div id="layers-list" class="layers-list">
                    <!-- Layers injected here -->
                </div>
            </div>

            <!-- File Operations -->
            <div class="panel-section">
                <h3>File</h3>
                <button class="btn-primary" id="new-project-btn">New Project</button>
            </div>

            <!-- Export -->
            <div class="panel-section">
                <h3>Export</h3>
                <div class="export-actions">
                    <button class="btn-primary" id="export-png">PNG</button>
                    <button class="btn-secondary" id="export-jpg">JPG</button>
                    <button class="btn-secondary" id="export-webp">WebP</button>
                </div>
            </div>
        </aside>
    </div>

    <!-- New Project Modal -->
    <div id="new-project-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>New Project</h2>
            <div class="form-group">
                <label>Width (px)</label>
                <input type="number" id="new-width" value="800">
            </div>
            <div class="form-group">
                <label>Height (px)</label>
                <input type="number" id="new-height" value="600">
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancel-new-project">Cancel</button>
                <button class="btn-primary" id="create-new-project">Create</button>
            </div>
        </div>
    </div>

    <!-- Image Library Modal -->
    <div id="image-library-modal" class="modal" style="display: none;">
        <div class="modal-content library-content">
            <div class="modal-header">
                <h2>Stock Images</h2>
                <button id="close-library-btn" class="close-btn">&times;</button>
            </div>
            <div id="image-grid" class="image-grid">
                <!-- Images injected here -->
            </div>
            <div class="modal-footer">
                <button id="load-more-btn" class="btn-secondary">Load More</button>
            </div>
        </div>
    </div>

    <!-- Crop Confirmation Modal -->
    <div id="crop-modal" class="modal" style="display: none;">
        <div class="modal-content" style="width: 300px;">
            <h2>Crop Image?</h2>
            <p>Are you sure you want to crop the image to the selected area?</p>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancel-crop">Cancel</button>
                <button class="btn-primary" id="confirm-crop">Crop</button>
            </div>
        </div>
    </div>

    <!-- Custom Cursor -->
    <div id="brush-cursor" class="brush-cursor"></div>

    <script type="module" src="js/app.js"></script>
</body>

</html>